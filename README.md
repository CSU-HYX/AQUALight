# AQUALight内部程序使用说明
###  物料
+ **Arduino Mega2560开发板*1**（用于驱动PWM模块，由于需要四路PWM,因此没有选择UNO版本）
+ **ESP8266 CP2102开发板*1**（用于接收网络时间并转换成光照数据）
+ **MOS场效应管触发开关驱动模块*4**（用于放大PWM信号）
+ **12V直流LED灯带若干**（白色、红色、蓝色、绿色）
+ **12V转5V降压模块*1**
+ **12v100W直流电源模块*1**（灯箱电源即可）
+ **100kΩ旋钮式可调电阻**
+ **DIY常用的线材、烙铁等工具**
### 1. 接线方式
  * 首先将灯带裁剪为需要的尺寸，并将灯带的±两级连接至PWM模块的输出上。四种颜色的灯条需要连接至四块PWM模块上。
  * 将电源输出与PWM电源输入、12-5降压模块的输入相连。
  * 将Mega开发板的GND接入公共地，将2、3、5、7引脚分别连接至G、B、W、R颜色对应的PWM模块上，将模块的I2C接口与ESP8266模块的I2C接口相连接。
  * 将MEGA的电源输入接至12-5转换模块，并使用MEGA的3.3V输出为ESP8266供电。
  * 将可变电阻的两固定引脚分别接入MEGA模块的5v、GND，将滑动引脚接至MEGA的A0引脚。
  ### 2. 程序烧录
  将AQUALight.ino烧写入ESP8266模块，AQUAProcesser烧写入MEGA模块，注意两个模块之间的波特率最好设置相同。
  ### 3.注意事项
  * 在制作过程中注意灯条的散热接触与绝缘
  * 手机调光是个复杂且使用频率较低的功能，且依托于家庭IOT服务器。如果您没有您的服务器的话，就无法部署远程调光的服务端程序。因此，我将日光模拟的数据直接嵌入了AQUALight.ino中。在文件中有一份Excel表格，您可以根据需要调整光照数据并更改代码。
  * 在烧录之前，记得修改AQUALight.ino中第27行的WiFiSSID和密码
  * 这份代码只用于一种自动调光的鱼缸灯制作方法，鱼缸灯的制作需要一定的专业知识，对于DIY过程中出现的任何情况本教程与作者均不负责任，望您注意安全。
